---
title: 3/28 太难了！深入语言核心！腾讯视频后台开发一面经验分享
urlname: vkm0wmtadabu45qk
date: '2024-06-13 21:14:41'
updated: '2024-06-13 21:14:50'
description: 'https://www.nowcoder.com/feed/main/detail/0d2e3d5bce19438a880ed23d5428abcf【提醒】通过这次面试经验，你将可以复习到以下知识点：Go语言的特性及其垃圾回收（GC）机制。Go语言的GMP调度模型。Go语言中的并发控制工具：c...'
---
> [**https://www.nowcoder.com/feed/main/detail/0d2e3d5bce19438a880ed23d5428abcf**](https://www.nowcoder.com/feed/main/detail/0d2e3d5bce19438a880ed23d5428abcf)
> **【提醒】通过这次面试经验，你将可以复习到以下知识点：**

1. **Go语言的特性及其垃圾回收（GC）机制。**
2. **Go语言的GMP调度模型。**
3. **Go语言中的并发控制工具：channel和waitgroup。**
4. **了解如何避免并发读写问题。**
5. **MySQL读写超时的处理方法。**
6. **如何设计并实现带权重的随机函数。**
7. **对项目管理和团队协作的理解和经验。**
8. **对数据库的理解，包括索引优化和读写分离等高可用架构。**
9. **算法题解题能力，包括理解题目要求，设计解决方案和编写代码。**
10. **对面试官的反问，展示了你对职位的理解和对公司的兴趣。**

**面试官**: 你好，欢迎来到腾讯视频的后台开发面试。首先，请你做一个自我介绍。 

**求职者**: 你好，我是一名计算机科学与技术的毕业生，对后端开发非常感兴趣，尤其是在Go语言方面有一定的研究和项目经验。我对系统架构和分布式计算有一定的理解，并且乐于面对技术挑战。 

**面试官**: 很好。那你能简单介绍一下你参与过的项目吗？

 **求职者**: 当然。我参与过的一个项目是一个基于微服务架构的电商平台，我主要负责订单处理和库存管理模块。在这个项目中，我使用Go语言进行开发，利用其并发处理能力来保证系统的高性能和稳定性。

 **面试官**: 在项目中，你遇到过哪些困难？你是如何解决的？ 

**求职者**: 在项目中，我遇到的一个困难是在高并发场景下，如何保证库存数据的一致性。我通过使用乐观锁和Redis缓存机制来解决这个问题。同时，我还优化了数据库的索引，提高了查询效率。 

**面试官**: 你对golang有什么理解？ 

**求职者**: Go语言是一种静态类型、编译型语言，它具有简洁、高效和安全的特点。Go的并发模型是它的一大亮点，它通过goroutine和channel来实现并发和并行处理，这使得Go非常适合开发高性能的网络服务和分布式系统。 

**面试官**: 那么，你能详细讲讲Go语言的GC机制吗？ 

**求职者**: Go语言的垃圾回收是基于三色标记清除算法实现的。它在运行时会进行并发的垃圾回收，不会阻塞主程序的执行。Go的GC机制会定期检查内存中的对象是否还被引用，如果没有被引用，就会被标记清除。 

**面试官**: Go语言的GC机制存在哪些缺陷？有什么解决办法？

 **求职者**: Go语言的GC机制虽然高效，但仍有一些缺陷，比如在垃圾回收过程中会产生一定的停顿时间(STW)，这可能会影响程序的性能。为了解决这个问题，Go语言在近期的更新中不断优化GC算法，减少STW的时间。此外，开发者可以通过减少内存分配和减少全局变量的使用来降低GC的压力。 

**面试官**: 你对GMP调度模型有什么理解？ 

**求职者**: GMP是Go语言的运行时调度模型。其中G代表goroutine，它是Go中的轻量级线程；M代表机器，实际上就是操作系统的线程；P代表处理器，它是执行goroutine的资源。GMP模型通过P来管理一组本地的G队列，M会从P中获取G来执行。当M阻塞时，P会被分配给其他的M，这样可以高效地利用多核心处理器，并实现高并发。

 **面试官**: channel在Go中是如何使用的？你对它有什么理解？ 

**求职者**: channel是Go语言中的一个核心概念，它用于在goroutine之间传递消息。可以把channel看作是一个线程安全的队列，我们可以向channel中发送数据，或者从channel中接收数据。使用channel可以避免共享内存时的竞态条件，简化并发程序的编写。 

**面试官**: waitgroup在Go中有什么作用？ 

**求职者**: waitgroup用于等待一组goroutine执行完成。它提供了Add、Done和Wait三个方法。我们可以通过Add方法来设置需要等待的goroutine的数量，每个goroutine在结束时调用Done来减少计数器，而Wait用于阻塞，直到计数器为零。 

**面试官**: 在Go中，如何避免并发读写问题？ 

**求职者**: 为了避免并发读写问题，Go提供了同步原语，如sync.Mutex和sync.RWMutex。我们可以使用这些锁来控制对共享资源的访问。此外，Go的channel也可以用来进行并发控制，通过channel的发送和接收操作，我们可以安全地在goroutine之间同步数据。 

**面试官**: 如果读写MySQL时出现超时，你会怎么处理？ 

**求职者**: 如果读写MySQL出现超时，我会首先检查查询语句是否优化，比如是否使用了合适的索引。然后，我会检查数据库服务器的性能指标，如CPU、内存和磁盘I/O是否存在瓶颈。如果问题依旧存在，我可能需要考虑对数据库进行分库分表，或者增加读写分离等高可用架构来提高性能。 

**面试官**: 现在给你一个算法题，请实现一个带权重的随机函数。

**求职者**: 带权重的随机函数可以通过累积权重的方式来实现。首先，我们可以计算出所有元素的权重总和。然后，生成一个随机数，这个随机数的范围是从0到权重总和之间。最后，我们按照元素的权重顺序累加，当累加的值大于随机数时，当前的元素就是我们要选择的元素。 

**面试官**: 好的，感谢你的回答。最后，你有什么要问我的吗？ 

**求职者**: 是的，我想知道腾讯视频后台开发团队在技术栈选择上有什么考虑？未来有哪些技术挑战和项目我们将会面对？

**面试官**: 我们的技术栈主要围绕Go语言和微服务架构。我们一直在探索如何更好地处理大规模数据和高并发场景。未来，我们将面临如何进一步优化我们的推荐算法、视频流媒体服务和用户个性化体验的挑战。

**求职者**: 明白了，感谢您的回答。期待有机会加入腾讯视频团队。

**面试官**: 谢谢你的参与，我们会尽快给你反馈。祝你好运！
